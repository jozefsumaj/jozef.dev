---
import BaseLayout from './BaseLayout.astro';
import TagList from '../components/TagList.astro';
import type { CollectionEntry } from 'astro:content';

interface Props {
  post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
const { title, description, pubDate, tags } = post.data;

const formattedDate = pubDate.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<BaseLayout title={title} description={description}>
  <article>
    <header class="mb-10">
      <a 
        href="/" 
        class="inline-flex items-center gap-2 text-sm font-mono mb-6 opacity-70 hover:opacity-100 transition-opacity"
        style="color: var(--text-secondary);"
      >
        <span>←</span>
        <span>back to posts</span>
      </a>
      
      <h1 class="text-3xl md:text-4xl font-mono font-semibold mb-4" style="color: var(--text);">
        {title}
      </h1>
      
      <div class="flex flex-wrap items-center gap-4 text-sm" style="color: var(--text-muted);">
        <time datetime={pubDate.toISOString()} class="font-mono">
          {formattedDate}
        </time>
        {tags && tags.length > 0 && (
          <>
            <span>·</span>
            <TagList tags={tags} />
          </>
        )}
      </div>
    </header>
    
    <div class="prose">
      <slot />
    </div>
  </article>
</BaseLayout>

