---
import TagList from './TagList.astro';
import type { CollectionEntry } from 'astro:content';

interface Props {
  post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
const { title, description, pubDate, tags } = post.data;

const formattedDate = pubDate.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'short',
  day: 'numeric'
});
---

<article class="group py-6 border-b" style="border-color: var(--border);">
  <a href={`/blog/${post.slug}`} class="block">
    <div class="flex flex-col sm:flex-row sm:items-baseline sm:justify-between gap-2 mb-2">
      <h2 
        class="text-lg font-mono font-medium group-hover:opacity-80 transition-opacity"
        style="color: var(--text);"
      >
        {title}
      </h2>
      <time 
        datetime={pubDate.toISOString()} 
        class="text-sm font-mono shrink-0"
        style="color: var(--text-muted);"
      >
        {formattedDate}
      </time>
    </div>
    
    {description && (
      <p class="text-sm mb-3" style="color: var(--text-secondary);">
        {description}
      </p>
    )}
  </a>
  
  {tags && tags.length > 0 && (
    <TagList tags={tags} />
  )}
</article>

